
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Bin Finder</title>

    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20n6cT8wYj6CrBC6Ab6E1cAP36A3I/SdycZ4xLOo3c0="
        crossorigin=""></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Font ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ */
        body {
            font-family: 'Noto Sans Thai', sans-serif;
        }
        /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á: #map ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• */
        #map {
            height: 400px; /* ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ */
            border-radius: 12px;
            /* Media Query ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠: ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô */
            @media (max-width: 640px) {
                height: 60vh; /* 60% ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (Viewport Height) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡πÇ‡∏ü‡∏ô */
            }
        }
        /* Custom styles ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Icon ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞ */
        .bin-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            font-weight: bold;
        }
        .red-bin { background-color: #dc2626; }
        .yellow-bin { background-color: #eab308; }
        .green-bin { background-color: #16a34a; }
        .blue-bin { background-color: #2563eb; }
        .waste-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .waste-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-green-50 min-h-screen">
    
    <header class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-gray-800">üóÇÔ∏è Smart Bin Finder</h1>
            <p class="text-center text-gray-600 mt-2 text-sm sm:text-base">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏∏‡∏ì</p>
        </div>
    </header>

    <div class="container mx-auto px-4 py-6 max-w-6xl">
     
        <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4 text-gray-800">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á</h2>
            <div class="flex flex-col sm:flex-row gap-3 mb-4">
                <input type="text" id="searchInput" placeholder="‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà..." 
                       class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <button onclick="searchLocation()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                    ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                </button>
                <button onclick="getCurrentLocation()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                    üìç ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
                </button>
            </div>
            <div id="locationStatus" class="text-sm text-gray-600"></div>
        </div>

        <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4 text-gray-800">üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞</h2>
            <div id="map"></div>
        </div>
        
        <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4 text-gray-800">üìç ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á</h2>
            <div id="binsList" class="space-y-3">
                <p class="text-gray-500">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞</p>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6 mb-6">
            <h2 class="text-xl font-semibold mb-6 text-gray-800">üìã ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="waste-card bg-red-50 border-2 border-red-200 rounded-xl p-4" onclick="showWasteDetails('red')">
                    <div class="flex items-center mb-3">
                        <div class="bin-icon red-bin mr-3">‚ò†Ô∏è</div>
                        <h3 class="font-semibold text-red-800">‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡πÅ‡∏î‡∏á</h3>
                    </div>
                    <p class="text-sm text-red-700 mb-2">‡∏Ç‡∏¢‡∏∞‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</p>
                    <p class="text-xs text-red-600">‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü, ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà, ‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ</p>
                </div>
                <div class="waste-card bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4" onclick="showWasteDetails('yellow')">
                    <div class="flex items-center mb-3">
                        <div class="bin-icon yellow-bin mr-3">‚ôªÔ∏è</div>
                        <h3 class="font-semibold text-yellow-800">‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</h3>
                    </div>
                    <p class="text-sm text-yellow-700 mb-2">‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•</p>
                    <p class="text-xs text-yellow-600">‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å, ‡πÅ‡∏Å‡πâ‡∏ß, ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©</p>
                </div>
                <div class="waste-card bg-green-50 border-2 border-green-200 rounded-xl p-4" onclick="showWasteDetails('green')">
                    <div class="flex items-center mb-3">
                        <div class="bin-icon green-bin mr-3">ü•¨</div>
                        <h3 class="font-semibold text-green-800">‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</h3>
                    </div>
                    <p class="text-sm text-green-700 mb-2">‡∏Ç‡∏¢‡∏∞‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å/‡∏°‡∏π‡∏•‡∏ù‡∏≠‡∏¢</p>
                    <p class="text-xs text-green-600">‡πÄ‡∏®‡∏©‡∏ú‡∏±‡∏Å, ‡πÄ‡∏®‡∏©‡∏ú‡∏•‡πÑ‡∏°‡πâ, ‡πÉ‡∏ö‡πÑ‡∏°‡πâ</p>
                </div>
                <div class="waste-card bg-blue-50 border-2 border-blue-200 rounded-xl p-4" onclick="showWasteDetails('blue')">
                    <div class="flex items-center mb-3">
                        <div class="bin-icon blue-bin mr-3">üóëÔ∏è</div>
                        <h3 class="font-semibold text-blue-800">‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô</h3>
                    </div>
                    <p class="text-sm text-blue-700 mb-2">‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</p>
                    <p class="text-xs text-blue-600">‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å, ‡πÇ‡∏ü‡∏°‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô</p>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6">
            <h2 class="text-xl font-semibold mb-6 text-gray-800">üìñ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="mb-4 lg:mb-0">
                    <h3 class="text-lg font-semibold mb-4 text-blue-800">üîß ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</h3>
                    <div class="bg-blue-50 rounded-lg p-4 space-y-3">
                         <h4 class="font-semibold text-blue-900 mb-3">‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞</h4>
                        <p class="text-sm text-blue-700">‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà Interactive</p>
                        <h4 class="font-semibold text-blue-900 mb-3 pt-2 border-t border-blue-200">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞</h4>
                        <p class="text-sm text-blue-700">‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏Ç‡∏¢‡∏∞‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î</p>
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-4 text-purple-800">üì± ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</h3>
                    <div class="bg-purple-50 rounded-lg p-4">
                        <h4 class="font-semibold text-purple-900 mb-4">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h4>
                        <div class="space-y-4">
                            <div class="flex items-start space-x-3">
                                <div class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5">1</div>
                                <div><h5 class="font-medium text-purple-800 mb-1">‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</h5><p class="text-sm text-purple-700">‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå Smart Bin Finder</p></div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5">2</div>
                                <div><h5 class="font-medium text-purple-800 mb-1">‡πÉ‡∏™‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</h5><p class="text-sm text-purple-700">‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á GPS ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</p></div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5">3</div>
                                <div><h5 class="font-medium text-purple-800 mb-1">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•</h5><p class="text-sm text-purple-700">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6 mt-6">
            <h2 class="text-xl font-semibold mb-6 text-gray-800">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h2>
            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100">
                <div class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex items-center space-x-4">
                            <div class="bg-blue-600 p-3 rounded-full">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-800 mb-1">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</h3>
                                <a href="mailto:smartbinfinder@gmail.com" class="text-blue-600 hover:text-blue-800 transition-colors font-medium">smartbinfinder@gmail.com</a>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div class="bg-green-600 p-3 rounded-full">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-800 mb-1">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</h3>
                                <p class="text-gray-700 leading-relaxed">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô<br>‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="wasteModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-lg sm:max-w-2xl w-full max-h-[90vh] overflow-y-auto transform transition-all">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 id="modalTitle" class="text-xl sm:text-2xl font-bold"></h2>
                    <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-3xl font-light leading-none">&times;</button>
                </div>
                <div id="modalContent"></div>
            </div>
        </div>
    </div>
    
    <footer class="bg-gray-800 text-white text-center py-5 mt-8">
        <div class="container mx-auto px-4">
            <p class="text-sm font-semibold">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏à‡∏≤‡∏Å Group 8 ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</p>
            <p class="text-xs mt-1 text-gray-300">‡∏™‡∏≤‡∏Ç‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á | ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1 sec68</p>
        </div>
    </footer>


    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞
        const binLocations = [
            // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö
            { id: 1, name: "‡∏ä‡∏±‡πâ‡∏ô 1 ‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏û‡∏£‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå", lat: 16.4739267, lng: 102.8311330, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 1" },
            { id: 2, name: "‡∏ä‡∏±‡πâ‡∏ô 1 ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 106", lat: 16.4739573, lng: 102.8309061, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 1" },
            { id: 3, name: "‡∏ä‡∏±‡πâ‡∏ô 1 ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á", lat: 16.4737669, lng: 102.8310603, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 1" },
            { id: 4, name: "‡∏ä‡∏±‡πâ‡∏ô 1 ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥", lat: 16.4735120, lng: 102.8312112, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ"], floor: "‡∏ä‡∏±‡πâ‡∏ô 1" },
            { id: 5, name: "‡∏ä‡∏±‡πâ‡∏ô 1 ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤", lat: 16.4732860, lng: 102.8312953, bins: ["‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•"], floor: "‡∏ä‡∏±‡πâ‡∏ô 1" },
            { id: 6, name: "‡∏ä‡∏±‡πâ‡∏ô 2 ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î", lat: 16.4734361, lng: 102.8313047, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 2" },
            { id: 7, name: "‡∏ä‡∏±‡πâ‡∏ô 2 ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏î‡πâ‡∏≤‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 202", lat: 16.4734869, lng: 102.8312226, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 2" },
            { id: 8, name: "‡∏ä‡∏±‡πâ‡∏ô 2 ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏ü‡∏ï‡πå", lat: 16.4737705, lng: 102.8311273, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 2" },
            { id: 9, name: "‡∏ä‡∏±‡πâ‡∏ô 2 ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á 206", lat: 16.4739971, lng: 102.8310130, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 2" },
            { id: 10, name: "‡∏ä‡∏±‡πâ‡∏ô 3 ‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏ü‡∏ï‡πå", lat: 16.4736010, lng: 102.8310935, bins: ["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å"], floor: "‡∏ä‡∏±‡πâ‡∏ô 3" } 
        ];

        const wasteDetails = { 
            // ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö
            red: { title: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡πÅ‡∏î‡∏á - ‡∏Ç‡∏¢‡∏∞‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢", icon: "‚ò†Ô∏è", color: "red", examples: ["‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü‡∏ü‡∏•‡∏π‡∏≠‡∏≠‡πÄ‡∏£‡∏™‡πÄ‡∏ã‡∏ô‡∏ï‡πå", "‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà", "‡∏ñ‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏â‡∏≤‡∏¢", "‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏Å‡πà‡∏≤", "‡∏Ç‡∏ß‡∏î‡∏†‡∏≤‡∏ä‡∏ô‡∏∞‡πÉ‡∏™‡πà‡∏™‡∏≤‡∏£‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á", "‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ", "‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡∏™‡∏µ‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå"], description: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏™‡πà‡∏Ç‡∏¢‡∏∞‡∏°‡∏µ‡∏û‡∏¥‡∏© ‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢ ‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏™‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏è‡∏¥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÑ‡∏î‡πâ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏™‡πà‡∏£‡∏ß‡∏°‡πÑ‡∏õ‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÑ‡∏ß‡πÑ‡∏ü ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏≠‡∏≠‡∏Å‡πÑ‡∏ã‡∏ï‡πå ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏≠‡∏≠‡∏Å‡πÑ‡∏ã‡∏ï‡πå ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏°‡∏µ‡∏û‡∏¥‡∏© ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏Å‡∏±‡∏°‡∏°‡∏±‡∏ô‡∏ï‡∏£‡∏±‡∏á‡∏™‡∏µ ‡∏™‡∏¥‡πà‡∏á‡∏ï‡πà‡∏≤‡∏á ‡πÜ‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏î‡∏Å‡∏£‡πà‡∏≠‡∏ô ‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏™‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‡∏™‡∏±‡∏ï‡∏ß‡πå ‡∏û‡∏∑‡∏ä" }, 
            yellow: { title: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á - ‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", icon: "‚ôªÔ∏è", color: "yellow", examples: ["‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏ï‡πà‡∏≤‡∏á‡πÜ", "‡πÅ‡∏Å‡πâ‡∏ß", "‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©", "‡πÄ‡∏®‡∏©‡πÇ‡∏•‡∏´‡∏∞", "‡πÄ‡∏®‡∏©‡∏≠‡∏∞‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°", "‡∏¢‡∏≤‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå", "‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©"], description: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏™‡πà‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á" }, 
            green: { title: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß - ‡∏Ç‡∏¢‡∏∞‡∏°‡∏π‡∏•‡∏ù‡∏≠‡∏¢/‡∏Ç‡∏¢‡∏∞‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å", icon: "ü•¨", color: "green", examples: ["‡πÄ‡∏®‡∏©‡∏ú‡∏±‡∏Å", "‡πÄ‡∏®‡∏©‡∏ú‡∏•‡πÑ‡∏°‡πâ", "‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡πÉ‡∏ö‡πÑ‡∏°‡πâ", "‡∏Å‡∏¥‡πà‡∏á‡πÑ‡∏°‡πâ"], description: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏™‡πà‡∏Ç‡∏¢‡∏∞‡∏°‡∏π‡∏•‡∏ù‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πà‡∏≠‡∏¢‡∏™‡∏•‡∏≤‡∏¢‡πÑ‡∏î‡πâ ‡∏Ç‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏∞‡πÄ‡∏ô‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢ ‡∏¢‡πà‡∏≠‡∏¢‡∏™‡∏•‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏∏‡πã‡∏¢‡∏´‡∏°‡∏±‡∏Å‡πÑ‡∏î‡πâ" }, 
            blue: { title: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô - ‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", icon: "üóëÔ∏è", color: "blue", examples: ["‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å", "‡πÇ‡∏ü‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£", "‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏´‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏≠‡∏°", "‡∏ã‡∏≠‡∏á‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ"], description: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πà‡∏≠‡∏¢‡∏™‡∏•‡∏≤‡∏¢‡πÑ‡∏î‡πâ ‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•" } 
        };

        let map;
        let userMarker;
        let binMarkers = [];

        // 1. Initial Map: Center the map on a default location (KKU Local Government College)
        function initMap() {
            // ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏∏‡∏î‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ã‡∏π‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
            map = L.map('map').setView([16.4736, 102.8311], 18);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(map);

            addBinMarkers(binLocations);
        }

        // 2. Add Bin Markers
        function addBinMarkers(locations) {
            // ‡∏•‡∏ö Marker ‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô
            binMarkers.forEach(marker => map.removeLayer(marker));
            binMarkers = [];
            document.getElementById('binsList').innerHTML = '';

            const binsListElement = document.getElementById('binsList');
            let listHTML = '';

            locations.forEach(location => {
                // ‡∏™‡∏£‡πâ‡∏≤‡∏á Popup Content
                const popupContent = `
                    <div class="p-2">
                        <h3 class="font-semibold text-base mb-2">${location.name} (${location.floor})</h3>
                        <div class="flex flex-wrap gap-2">
                            ${location.bins.map(bin => {
                                let colorClass = '';
                                if (bin.includes('‡πÅ‡∏î‡∏á')) colorClass = 'bg-red-600';
                                else if (bin.includes('‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á') || bin.includes('‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•')) colorClass = 'bg-yellow-600';
                                else if (bin.includes('‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß') || bin.includes('‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å')) colorClass = 'bg-green-600';
                                else if (bin.includes('‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô') || bin.includes('‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ')) colorClass = 'bg-blue-600';
                                return `<span class="text-xs font-medium ${colorClass} text-white px-2 py-1 rounded-full">${bin}</span>`;
                            }).join('')}
                        </div>
                    </div>
                `;

                const marker = L.marker([location.lat, location.lng])
                    .addTo(map)
                    .bindPopup(popupContent);

                binMarkers.push(marker);
                
                // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô List
                listHTML += `
                    <div class="location-item bg-gray-50 p-4 rounded-lg shadow-sm border-l-4 border-blue-500 cursor-pointer" 
                         onclick="map.setView([${location.lat}, ${location.lng}], 18); marker.openPopup();">
                        <p class="font-medium text-gray-800">${location.name} <span class="text-sm text-gray-600">(${location.floor})</span></p>
                        <div class="flex flex-wrap gap-1 mt-1">
                            ${location.bins.map(bin => `<span class="text-xs text-blue-700">${bin}</span>`).join(' ‚Ä¢ ')}
                        </div>
                    </div>
                `;
            });
            
            binsListElement.innerHTML = listHTML || '<p class="text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á</p>';
        }

        // 3. Get Current Location (‡πÉ‡∏ä‡πâ Geolocation API ‡∏Ç‡∏≠‡∏á Browser)
        function getCurrentLocation() {
            const status = document.getElementById('locationStatus');
            status.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô...';
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;

                        status.textContent = `‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;

                        // 1. Zoom and center map
                        map.setView([lat, lng], 17); 

                        // 2. Add/Move User Marker
                        if (userMarker) {
                            userMarker.setLatLng([lat, lng]);
                        } else {
                            // Custom icon for user location
                            const userIcon = L.divIcon({
                                className: 'user-marker-icon',
                                html: '<div class="w-8 h-8 bg-pink-500 ring-4 ring-pink-300 rounded-full flex items-center justify-center text-white font-bold text-lg">ME</div>',
                                iconSize: [32, 32],
                                iconAnchor: [16, 16]
                            });
                            userMarker = L.marker([lat, lng], {icon: userIcon})
                                .addTo(map)
                                .bindPopup("‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà")
                                .openPopup();
                        }
                        
                        // ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ‡∏à‡∏£‡∏¥‡∏á, ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á binLocations
                        const nearbyBins = binLocations.filter(bin => calculateDistance(lat, lng, bin.lat, bin.lng) < 1.0); // 1.0 km radius
                        addBinMarkers(nearbyBins);

                    },
                    (error) => {
                        status.textContent = `‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ${error.message}`;
                    },
                    { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 } // High accuracy for mobile
                );
            } else {
                status.textContent = '‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Geolocation';
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Geocoding API ‡πÄ‡∏ä‡πà‡∏ô Nominatim/Google Maps)
        function searchLocation() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            const status = document.getElementById('locationStatus');
            
            // ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏±‡πâ‡∏ô
            const filteredBins = binLocations.filter(bin => 
                bin.name.toLowerCase().includes(input) || 
                bin.floor.toLowerCase().includes(input)
            );

            if (filteredBins.length > 0) {
                // Centering map on the first result
                const firstBin = filteredBins[0];
                map.setView([firstBin.lat, firstBin.lng], 18);
                status.textContent = `‡∏û‡∏ö‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞ ${filteredBins.length} ‡πÅ‡∏´‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: "${input}"`;
            } else {
                status.textContent = `‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: "${input}"`;
                // Center back to default if no result found
                map.setView([16.4736, 102.8311], 16);
            }

            addBinMarkers(filteredBins);
        }

        // 4. Modal Functions (Responsive Modal)
        function showWasteDetails(type) {
            const details = wasteDetails[type];
            if (!details) return;

            const modal = document.getElementById('wasteModal');
            document.getElementById('modalTitle').textContent = details.title;
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ Modal
            document.getElementById('modalContent').innerHTML = `
                <div class="flex items-center mb-4 pb-4 border-b border-gray-200">
                    <div class="bin-icon ${details.color}-bin mr-4">${details.icon}</div>
                    <p class="text-base text-gray-800">${details.description}</p>
                </div>
                
                <div class="mb-4">
                    <h3 class="font-semibold mb-2 text-gray-800">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏¢‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ô‡∏µ‡πâ:</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                        ${details.examples.map(example => `
                            <div class="bg-gray-50 p-2 rounded text-sm">${example}</div>
                        `).join('')}
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold mb-2 text-gray-800">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</h3>
                    <p class="text-gray-700 leading-relaxed">${details.description}</p>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('wasteModal').classList.add('hidden');
        }
        
        // Helper function for distance calculation (Haversine formula)
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // Radius of the Earth in km
            const dLat = (lat2 - lat1) * (Math.PI / 180);
            const dLon = (lon2 - lon1) * (Math.PI / 180);
            const a = 
                Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            return R * c; // Distance in km
        }

        // Event Listeners
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchLocation();
            }
        });

        document.getElementById('wasteModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initMap();
        });
    </script>
</body>
</html>
